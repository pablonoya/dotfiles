/* --- TABS --- */
/* Show Close Button on active Tab and Mouseover */
#TabsToolbar .tabbrowser-tab[selected="true"]:not([pinned]) .close-icon {
  display: block !important;
  border-radius: 50%;
}

#TabsToolbar .tabbrowser-tab:not([selected="true"]):not([pinned]):hover .close-icon {
  display: block !important;
  border-radius: 50%;
}

.tabbrowser-tab:not([pinned]) .tab-close-button {
  display: none !important;
  border-radius: 50%;
}

.tab-close-button.close-icon {
  border-radius: 50%;
}

/* Gradient outline tabs */
.tab-background[selected] {
  outline: none !important;
  border: 2px solid transparent !important;
  background-color: #623b99;
  box-shadow: none !important;
  background-clip: padding-box;
}
.tab-background[selected] > .tab-context-line {
  margin: -5px 0 0 !important;
}
.tabbrowser-tab[selected] > .tab-stack::before {
  content: "";
  grid-area: 1/1;
  margin-block: var(--tab-block-margin);
  /* Edit gradient colors here */
  background: repeat linear-gradient(90deg, #61d6c6, #55b8e2) !important;
}

.tabbrowser-tab {
  border-radius: 16px !important;
}

/* Tabs below urlbar */
#titlebar {
  order: 3 !important;
}

/* This one is the spacer between tabs and border  */
.titlebar-spacer {
  display: none !important;
}

/* --- URL Bar --- */
/* Search Bar */
#urlbar-input-container,
#searchbar,
#urlbar-container #urlbar-background {
  border-radius: 16px !important;
}

#urlbar .urlbar-input-box {
  text-align: center;
  vertical-align: middle;
}

#urlbar-container #urlbar {
  --urlbar-height: 30px !important;
  --urlbar-min-height: 32px !important;
  transition-duration: 50ms;
}

/* --- Auto hide  Buttons inside URL bar --- */
/* based on: https://github.com/datguypiko/Firefox-Mod-Blur/ */

#nav-bar:not([customizing="true"]):not(.searchButton)
  > #nav-bar-customization-target
  > #urlbar-container:not(:hover)
  > #urlbar:not([focused])
  > #urlbar-input-container {
  #page-action-buttons .urlbar-page-action,
  #tracking-protection-icon-container,
  #identity-box > #identity-icon-box:not([open]),
  #identity-permission-box:not([open]) {
    opacity: 0;
    margin-inline-start: calc(-16px - var(--urlbar-icon-padding));
  }
}

#page-action-buttons .urlbar-page-action,
#tracking-protection-icon-container,
#identity-icon-box,
#notification-popup-box .notification-anchor-icon {
  transition: 0.2s ease;
}

#urlbar-input-container #identity-box > .identity-box-button,
#tracking-protection-icon-container,
#urlbar-go-button,
#page-action-buttons .urlbar-page-action,
#notification-popup-box {
  border-radius: 16px !important;
}

#urlbar-zoom-button {
  background-color: var(--firefoxcss-item-bg-color) !important;
}

/* --- Context menu --- */
menupopup {
  border-radius: 16px;
  overflow: -moz-hidden-unscrollable !important;
}

/* general right click menu */
#context-bookmarkpage,
#context-savepage,
#context-pocket,
#context-sep-viewbgimage,
#context-selectall,
#context-viewsource,
#context-viewinfo,

/* selected links */
#context-openlinkinusercontext-menu,
#context-bookmarklink,
#context-savelinktopocket,
#context-inspect,

/*Removes Items from Tab Context Menu*/
#context_reloadTab,
#context_openTabInWindow,
#context_sendTabToDevice_separator,
#context_reloadAllTabs,
#context_bookmarkAllTabs,
#context_closeTabsToTheEnd,
#context_closeOtherTabs,
#context_closeTab {
  display: none !important;
}
